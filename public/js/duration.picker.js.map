{"version":3,"sources":["../src/duration.picker.js"],"names":["$","formatPattern","methods","init","options","extend","onUpdate","each","$input","is","console","warn","data","on","e","value","val","key","length","match","isFunction","call","getFormatted","asObject","chars","replace","split","hours","minutes","i","len","toLowerCase","inArray","substring","parseInt","fn","duration","method","apply","Array","prototype","slice","arguments","error","jQuery"],"mappings":"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","file":"duration.picker.js","sourcesContent":[";(function ($) {\r\n    const formatPattern = /^(\\d{1,2}(\\s+)?[hH]?)?(\\s+)?(\\s+)?:?(\\s+)?(\\d{1,2}(\\s+)?[mM]?)?$/,\r\n        methods = {\r\n            init(options) {\r\n\r\n                options = $.extend({\r\n                    onUpdate: null,\r\n\r\n                }, options);\r\n\r\n                return this.each(function () {\r\n\r\n                    let $input = $(this);\r\n\r\n                    if (!$input.is('input[type=\"text\"]')) {\r\n                        console.warn('duration is only applicable to text inputs');\r\n                        return;\r\n                    }\r\n\r\n                    if (!$input.data('durationPicker')) {\r\n                        $input.on('keydown', function (e) {\r\n                            let value = $input.val() + e.key;\r\n\r\n                            if (e.key.length === 1 && !value.match(formatPattern)) {\r\n                                return false;\r\n                            }\r\n                        });\r\n\r\n                        $input.on('change keyup', function () {\r\n                            if ($.isFunction(options.onUpdate) && options.onUpdate !== null) {\r\n                                options.onUpdate.call($input, methods.getFormatted.call($input, true));\r\n                            }\r\n                        });\r\n\r\n                        $input.data('durationPicker', $input);\r\n                    }\r\n                });\r\n            },\r\n            getFormatted(asObject = false){\r\n                let $input = $(this),\r\n                    chars = $input.val().replace(/^\\s+/, '').split(''),\r\n                    hours = '',\r\n                    minutes = '',\r\n                    i = 0,\r\n                    len = chars.length;\r\n\r\n                for (; i < len; i++) {\r\n                    if (chars[i].toLowerCase() === 'm') {\r\n                        hours = 0;\r\n                        i = 0;\r\n                        break;\r\n                    }\r\n                    if (hours.length === 2 || ( $.inArray(chars[i], [' ', 'h', 'H']) !== -1 ) ) {\r\n                        break;\r\n                    }\r\n\r\n                    chars[i].match(/[0-9]/) && (hours += chars[i]);\r\n                }\r\n\r\n                for (; i < len; i++) {\r\n                    if (minutes.length === 2) {\r\n                        break;\r\n                    }\r\n\r\n                    if ( $.inArray(chars[i], [' ', 'm', 'M']) !== -1 ) {\r\n                        continue;\r\n                    }\r\n\r\n                    chars[i].match(/[0-9]/) && (minutes += chars[i]);\r\n                }\r\n\r\n                hours[0] === '0' ? (hours = hours.substring(1)) : '';\r\n                minutes[0] === '0' ? (minutes = minutes.substring(1)) : '';\r\n\r\n                hours = parseInt(hours || 0);\r\n                minutes = parseInt(minutes || 0);\r\n\r\n                if (minutes > 59) {\r\n                    hours += parseInt(minutes / 60);\r\n                    minutes = minutes % 60;\r\n                }\r\n\r\n                return asObject ? { hours, minutes } : ( hours + 'H ' + minutes + 'M' );\r\n            }\r\n        };\r\n\r\n    $.fn.duration = function (method) {\r\n\r\n        if (methods[method]) {\r\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\r\n        } else if (typeof method === 'object' || !method) {\r\n            return methods.init.apply(this, arguments);\r\n        } else {\r\n            $.error('durationPicker method is not exist: ' + method);\r\n        }\r\n    };\r\n\r\n})(jQuery);"]}